
<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --orange: #FFA500;
      --orange-2: #FFB84D;
      --blue: #0047AB;
      --blue-2: #0066CC;
      --white: #FFFFFF;
      --glass: rgba(255, 255, 255, 0.9);
    }

    body {
      font-family: 'Prompt', sans-serif;
      background: linear-gradient(135deg, var(--orange) 0%, #ffffff 60%, var(--blue));
      color: #002366;
      margin: 0;
      padding: 0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 18px;
      background: transparent;
      gap: 10px;
    }

    .btn-nav {
      padding: 8px 14px;
      border: none;
      border-radius: 10px;
      background: var(--glass);
      color: #002366;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
      transition: transform .15s ease;
    }

    .btn-nav:hover {
      transform: translateY(-2px);
    }

    h1 {
      text-align: center;
      margin: 8px 0 12px;
      font-size: 1.5rem;
      color: #002366;
    }

    .container {
      display: flex;
      gap: 12px;
      padding: 12px;
      align-items: flex-start;
    }

    .order-summary {
      width: 320px;
      background: var(--glass);
      border-radius: 16px;
      padding: 14px;
      margin-right: 8px;
      min-width: 260px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .order-summary h3 {
      text-align: center;
      margin-top: 0;
      color: #002366;
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 8px;
    }

    .order-item .controls button {
      font-size: 0.95rem;
      width: 32px;
      height: 32px;
      border: none;
      border-radius: 8px;
      background: var(--orange);
      color: white;
      cursor: pointer;
      font-weight: 700;
      transition: transform .12s ease;
    }

    .order-item .controls button:hover {
      transform: scale(1.1);
      background: var(--orange-2);
    }

    .summary-total {
      margin-top: 12px;
      font-weight: 700;
      color: #002366;
      line-height: 1.4;
      text-align: center;
    }

    .menu-grid {
      flex: 1;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 14px;
      align-items: start;
    }

    .menu-item {
      background: #ffffff;
      border-radius: 14px;
      text-align: center;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
      padding: 12px;
      cursor: pointer;
      transition: transform .14s ease;
    }

    .menu-item:hover {
      transform: translateY(-6px);
    }

    .image-placeholder {
      width: 100%;
      height: 110px;
      background: #eee;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-size: 0.95rem;
      margin-bottom: 10px;
    }

    .order-summary button {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 12px;
      font-weight: 700;
      margin-top: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.2s;
    }

    .order-summary button:first-of-type {
      background: linear-gradient(90deg, var(--blue), var(--blue-2));
      color: white;
    }

    .order-summary button:nth-of-type(2) {
      background: linear-gradient(90deg, var(--orange), var(--orange-2));
      color: #002366;
    }

    .order-summary button:nth-of-type(3) {
      background: linear-gradient(90deg, #FF6347, #FF4500);
      color: white;
    }

    .order-summary button:nth-of-type(4) {
      background: linear-gradient(90deg, #999, #666);
      color: white;
    }

    .order-summary button:hover {
      transform: scale(1.05);
    }

    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      width: 340px;
      text-align: center;
      display: none;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.45);
      display: none;
      z-index: 999;
    }

    .keypad {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .keypad button {
      padding: 14px;
      font-size: 1.2rem;
      border-radius: 10px;
      border: none;
      background-color: var(--orange);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: transform .12s ease;
    }

    .keypad button:hover {
      background-color: var(--orange-2);
      transform: scale(1.05);
    }

    .popup input {
      padding: 10px;
      width: 90%;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.08);
      text-align: center;
      font-size: 1.2rem;
    }

    .payment-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 10px;
    }

    .payment-buttons button {
      flex: 1;
      background: linear-gradient(90deg, #FFD27F, #FFB84D) !important;
      color: #002366 !important;
      font-weight: 700 !important;
      border: none !important;
      border-radius: 12px !important;
      padding: 10px 0 !important;
      font-size: 1rem !important;
      cursor: pointer !important;
      transition: transform .15s ease, background .2s !important;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
    }

    .payment-buttons button:hover {
      transform: scale(1.05);
      background: linear-gradient(90deg, #FFC04D, #FFA500) !important;
    }

    #receiptPopup {
      width: 320px !important;
      max-height: 90vh;
      overflow-y: auto;
    }

    #receiptPopup img {
      width: 80px !important;
      height: auto;
      display: block;
      margin: 0 auto 6px;
    }

    #qrPopup img {
      width: 180px !important;
      height: auto;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    #receiptPopup {
      background: #fff;
      border: 1px solid #ccc;
    }

    #qrPopup {
      width: 320px;
      text-align: center;
      border-radius: 16px;
      background: #fff;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    }

    #qrPopup h3 {
      margin-bottom: 10px;
      color: #0047AB;
    }

    #qrPopup img {
      width: 180px;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin-bottom: 10px;
    }

    #qrPopup button {
      background: linear-gradient(90deg, #4CAF50, #45A049);
      color: white;
      font-weight: 600;
      border: none;
      border-radius: 10px;
      padding: 10px 16px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    #qrPopup button:hover {
      transform: scale(1.05);
    }

    #receiptPopup {
      width: 320px !important;
      max-height: 90vh;
      overflow-y: auto;
      border-radius: 16px;
      background: #fff;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      padding: 20px;
    }

    #receiptPopup h2 {
      color: #0047AB;
      font-size: 1.2rem;
      margin-bottom: 8px;
    }

    #receiptPopup button {
      display: inline-block;
      width: 48%;
      border-radius: 10px;
      padding: 10px 0;
      font-weight: 600;
      border: none;
      cursor: pointer;
      margin-top: 10px;
      transition: transform 0.2s ease;
    }

    #receiptPopup button:first-of-type {
      background: linear-gradient(90deg, #4CAF50, #45A049);
      color: white;
    }

    #receiptPopup button:nth-of-type(2) {
      background: linear-gradient(90deg, #999, #777);
      color: white;
    }

    #receiptPopup button:hover {
      transform: scale(1.05);
    }

    .receipt-header img {
      width: 80px !important;
      height: auto;
      margin-bottom: 6px;
    }

    @media print {
      #receiptPopup button {
        display: none !important;
      }
    }

    .receipt-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    .receipt-table th,
    .receipt-table td {
      border-bottom: 1px dashed rgba(0, 0, 0, 0.15);
      padding: 6px 8px;
      font-size: 0.95rem;
    }

    @media print {
      #receiptPopup button {
        display: none !important;
      }

      #receiptPopup {
        width: 100% !important;
        box-shadow: none !important;
      }
    }

    .discount-btn {
      background: linear-gradient(90deg, #FFA500, #FFB84D);
      color: #002366;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      font-size: 1.1rem;
      transition: all 0.2s ease;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
    }

    .discount-btn:hover {
      transform: translateY(-3px);
      background: linear-gradient(90deg, #FFB84D, #FFD27F);
    }

    .discount-clear-btn {
      margin-top: 16px;
      background: linear-gradient(90deg, #999, #666);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s ease;
    }

    .discount-clear-btn:hover {
      transform: scale(1.05);
      background: linear-gradient(90deg, #666, #444);
    }

    /* üõí ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    .cart-icon {
      display: none;
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, var(--orange), var(--orange-2));
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      z-index: 1001;
      transition: transform 0.2s ease;
    }

    .cart-icon:hover {
      transform: scale(1.1);
    }

    .cart-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #FF4500;
      color: white;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 700;
    }

    /* üõí Popup ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    .mobile-cart-popup {
      display: none;
      position: fixed;
      top: 0;
      right: -100%;
      width: 85%;
      max-width: 400px;
      height: 100%;
      background: white;
      box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
      z-index: 1002;
      overflow-y: auto;
      transition: right 0.3s ease;
      padding: 20px;
    }

    .mobile-cart-popup.show {
      right: 0;
    }

    .mobile-cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
    }

    .mobile-cart-header h3 {
      margin: 0;
      color: #002366;
    }

    .close-cart {
      background: none;
      border: none;
      font-size: 1.8rem;
      color: #002366;
      cursor: pointer;
    }

    /* üì± ‡∏õ‡∏£‡∏±‡∏ö layout ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }

      .order-summary {
        display: none !important; /* ‡∏ã‡πà‡∏≠‡∏ô‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
      }

      .cart-icon {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .mobile-cart-popup {
        display: block;
      }

      .menu-grid {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      }
    }

    @media (min-width: 769px) {
      .cart-icon {
        display: none !important;
      }
    }

  </style>

</head>

<body>
  <div class="overlay" id="overlay" onclick="closeAllPopups()"></div>
  
  <!-- üõí ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ -->
  <button class="cart-icon" id="cartIcon" onclick="playClick(); vibrate(); openMobileCart()">
    üõí
    <span class="cart-badge" id="cartBadge">0</span>
  </button>

  <!-- üõí Popup ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ -->
  <div class="mobile-cart-popup" id="mobileCartPopup">
    <div class="mobile-cart-header">
      <h3>üõí ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
      <button class="close-cart" onclick="playClick(); vibrate(); closeMobileCart()">√ó</button>
    </div>
    <div id="mobileOrderItems"></div>
    <div class="summary-total" id="mobileTotalSummary"></div>
    <button onclick="playClick(); vibrate(); promptDiscountAuth()">üéÅ ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
    <button onclick="playClick(); vibrate(); submitOrder()">‚úÖ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
    <button onclick="playClick(); vibrate(); cancelOrder()">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    <button onclick="playClick(); vibrate(); removeDiscount()">üßπ ‡∏•‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
  </div>

  <header>
    <button class="btn-nav" onclick="playClick(); vibrate(); goHome()">‚Üê Home</button>
    <button class="btn-nav" onclick="playClick(); vibrate(); goBack()">‚Üê Back</button>
  </header>
  <h1>‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h1>

  <div class="container">
    <div class="order-summary" id="orderSummary" style="display:none;">
      <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
      <div id="orderItems"></div>
      <div class="summary-total" id="totalSummary"></div>
      <button onclick="playClick(); vibrate(); promptDiscountAuth()">üéÅ ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
      <button onclick="playClick(); vibrate(); submitOrder()">‚úÖ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
      <button onclick="playClick(); vibrate(); cancelOrder()">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      <button onclick="playClick(); vibrate(); removeDiscount()">üßπ ‡∏•‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
    </div>
    <div class="menu-grid" id="menuGrid">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏ô‡∏π...</div>
  </div>

  <!-- Popup ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î -->
  <div class="popup" id="discountPopup">
    <h3 style="color:#0047AB; margin-bottom:14px;">üéÅ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</h3>
    <div style="display:flex; justify-content:center; gap:12px; flex-wrap:wrap;">
      <button class="discount-btn" onclick="playClick(); vibrate(); applyDiscount(5)">5%</button>
      <button class="discount-btn" onclick="playClick(); vibrate(); applyDiscount(10)">10%</button>
      <button class="discount-btn" onclick="playClick(); vibrate(); applyDiscount(15)">15%</button>
      <button class="discount-btn" onclick="playClick(); vibrate(); applyDiscount(20)">20%</button>
    </div>
    <button class="discount-clear-btn" onclick="playClick(); vibrate(); removeDiscount()">üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
  </div>

  <!-- Popup ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™ -->
  <div class="popup" id="authPopup">
    <h3>‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</h3>
    <input id="pinInput" type="password" maxlength="6" readonly>
    <div class="keypad">
      <button onclick="playClick(); vibrate(); appendPin('1')">1</button>
      <button onclick="playClick(); vibrate(); appendPin('2')">2</button>
      <button onclick="playClick(); vibrate(); appendPin('3')">3</button>
      <button onclick="playClick(); vibrate(); appendPin('4')">4</button>
      <button onclick="playClick(); vibrate(); appendPin('5')">5</button>
      <button onclick="playClick(); vibrate(); appendPin('6')">6</button>
      <button onclick="playClick(); vibrate(); appendPin('7')">7</button>
      <button onclick="playClick(); vibrate(); appendPin('8')">8</button>
      <button onclick="playClick(); vibrate(); appendPin('9')">9</button>
      <button onclick="playClick(); vibrate(); clearPin()">C</button>
      <button onclick="playClick(); vibrate(); appendPin('0')">0</button>
      <button onclick="playClick(); vibrate(); submitPin()">‚úÖ</button>
    </div>
  </div>

  <!-- Popup ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î -->
  <div class="popup" id="cashPopup">
    <h3>‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</h3>
    <p>‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞: <strong><span id="cashAmount"></span> ‡∏ø</strong></p>
    <input type="text" id="cashInput" readonly placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞" />
    <div class="keypad">
      <button onclick="playClick(); vibrate(); appendCash('1')">1</button>
      <button onclick="playClick(); vibrate(); appendCash('2')">2</button>
      <button onclick="playClick(); vibrate(); appendCash('3')">3</button>
      <button onclick="playClick(); vibrate(); appendCash('4')">4</button>
      <button onclick="playClick(); vibrate(); appendCash('5')">5</button>
      <button onclick="playClick(); vibrate(); appendCash('6')">6</button>
      <button onclick="playClick(); vibrate(); appendCash('7')">7</button>
      <button onclick="playClick(); vibrate(); appendCash('8')">8</button>
      <button onclick="playClick(); vibrate(); appendCash('9')">9</button>
      <button onclick="playClick(); vibrate(); clearCash()">C</button>
      <button onclick="playClick(); vibrate(); appendCash('0')">0</button>
      <button onclick="playClick(); vibrate(); confirmCash()">‚úÖ</button>
    </div>
    <p id="changeDisplay" style="margin-top:8px;font-weight:600;"></p>
  </div>

  <!-- Popup QR -->
  <div class="popup" id="qrPopup">
    <h3>‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
    <img id="qrImage" src="kshop.jpg" alt="QR Code">
    <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡∏¢‡∏≠‡∏î <strong><span id="qrAmount"></span> ‡∏ø</strong></p>
    <button onclick="playClick(); vibrate(); confirmQR()">‚úÖ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</button>
  </div>

  <!-- Popup ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô -->
  <div class="popup" id="paymentPopup">
    <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
    <div class="payment-buttons">
      <button onclick="playClick(); vibrate(); payCash()">üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</button>
      <button onclick="playClick(); vibrate(); payQR()">üì± QR Code</button>
    </div>
  </div>

  <!-- Popup ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à -->
  <div class="popup" id="receiptPopup" style="width:360px;text-align:left;">
    <div class="receipt-header">
      <img src="logo.jpg" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏£‡πâ‡∏≤‡∏ô‡∏ä‡∏≤‡∏¢‡∏™‡∏µ‡πà‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πä‡∏¢‡∏ß">
      <h3 style="text-align:center;">‡∏ä‡∏≤‡∏¢‡∏™‡∏µ‡πà‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πä‡∏¢‡∏ß ‡∏Å‡∏≠‡∏•‡πå‡∏ü‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏ú‡πà</h3>
      <h5 style="text-align:center;">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà 95/7 ‡∏°.7 ‡∏ï.‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏≠.‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏ú‡πà ‡∏à.‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô 40110</h5>
      <h5 style="text-align:center;">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ:1409700103387</h5>
      <h5 style="text-align:center;">‡πÇ‡∏ó‡∏£.082-3804188</h5>
    </div>
    <h4 style="text-align:center;">‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡πà‡∏≠/üßæ ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô</h4>
    <div id="receiptDetails"></div>
    <h5 style="text-align:center;">‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏ö‡∏û‡∏£‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏≠‡∏∏‡∏î‡∏´‡∏ô‡∏∏‡∏ô</h5>
    <button onclick="playClick(); vibrate(); window.print()">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à</button>
    <button onclick="playClick(); vibrate(); closeReceipt()">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
  </div>

  <script>
    let order = {}, discountPercent = 0;

    // ---------------- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô ----------------
    function playClick() {
      const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZSR0PVKrn77BfGAg+ltrzxHMpBSuAzvLajTgJGGe37+OdTQ0OUKXh8bllHAU7k9j0yoEtBiV5xu7hlUkdD1Ko5O+wXxcIPZPY88NyKAUrgM3y2Yw4ChhnuO/jnUwODlCl4fG5ZRwFO5PY9MqBLQYlecbu4ZVJGw9UqOTvsF8XCDyS1/PEcicFK3/N8dmNOAoYZ7jv451MDg5QpOHxuWYcBTuS2PTKgS0GJXnG7uGVSRsPVKjk77BfFwg8ktf0xHInBSt/zfHZjDcKGGe47+OdSw4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1So5O+wXxcIO5LX9MRyJwUrfs3x2Y03ChhnuO/jnUsODlCl4fG5ZhwEO5PY9MqBLQYlecbu4ZVJGw9UqOTvsF8XCDuS1/TEcicFK37N8dmNNwoYZ7jv450MDg5QpeHxuWUcBTuT2PTKgS0GJXnG7uGVSBsPVKjk77BeGAg7ktf0xHInBSt+zfHZjTcKGGe47+OdSw4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1So5O+wXhgIO5LX9MRyJwUrfs3x2Y03ChhnuO/jnUwODlCl4fG5ZhwFO5PY9MqBLQYlecbu4ZVJGw9UqOTvsF4YCDuS1/TEcigFK37N8dmNOAoYZ7jv451MDg5QpeHxuWYcBTuT2PTKgS0GJXnG7uGVSRsPVKfk77BeGAg7ktf0xHInBSt+zfHZjTcKGGe47+OdTA4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1Sn5O+wXhgIO5LX9MRyJwUrfs3x2Y04ChhnuO/jnUwODlCl4fG5ZhwFO5PY9MqBLQYlecbu4ZVJGw9Up+TvsF4YCDuS1/TEcigFK37N8dmNOAoYZ7jv451MDg5QpeHxuWYcBTuT2PTKgS0GJXnG7uGVSRsPVKfk77BeGAg7ktf0xHInBSt+zfHZjTgKF2e47+OdTA4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1Sn5O+wXhgIO5
// ---------------- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô ----------------
    function playClick() {
      const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZSR0PVKrn77BfGAg+ltrzxHMpBSuAzvLajTgJGGe37+OdTQ0OUKXh8bllHAU7k9j0yoEtBiV5xu7hlUkdD1Ko5O+wXxcIPZPY88NyKAUrgM3y2Yw4ChhnuO/jnUwODlCl4fG5ZRwFO5PY9MqBLQYlecbu4ZVJGw9UqOTvsF8XCDyS1/PEcicFK3/N8dmNOAoYZ7jv451MDg5QpOHxuWYcBTuS2PTKgS0GJXnG7uGVSRsPVKjk77BfFwg8ktf0xHInBSt/zfHZjDcKGGe47+OdSw4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1So5O+wXxcIO5LX9MRyJwUrfs3x2Y03ChhnuO/jnUsODlCl4fG5ZhwEO5PY9MqBLQYlecbu4ZVJGw9UqOTvsF8XCDuS1/TEcicFK37N8dmNNwoYZ7jv450MDg5QpeHxuWUcBTuT2PTKgS0GJXnG7uGVSBsPVKjk77BeGAg7ktf0xHInBSt+zfHZjTcKGGe47+OdSw4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1So5O+wXhgIO5LX9MRyJwUrfs3x2Y03ChhnuO/jnUwODlCl4fG5ZhwFO5PY9MqBLQYlecbu4ZVJGw9UqOTvsF4YCDuS1/TEcigFK37N8dmNOAoYZ7jv451MDg5QpeHxuWYcBTuT2PTKgS0GJXnG7uGVSRsPVKfk77BeGAg7ktf0xHInBSt+zfHZjTcKGGe47+OdTA4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1Sn5O+wXhgIO5LX9MRyJwUrfs3x2Y04ChhnuO/jnUwODlCl4fG5ZhwFO5PY9MqBLQYlecbu4ZVJGw9Up+TvsF4YCDuS1/TEcigFK37N8dmNOAoYZ7jv451MDg5QpeHxuWYcBTuT2PTKgS0GJXnG7uGVSRsPVKfk77BeGAg7ktf0xHInBSt+zfHZjTgKF2e47+OdTA4OUKXh8blmHAU7k9j0yoEtBiV5xu7hlUkbD1Sn5O+wXhgIO5LX9MRyJwUrfs3x2Y04ChhnuO/jnUwODlCl4fG5ZhwFO5PY9MqBLQYlecbu4ZVJGw9Up+TvsF4YCDuS1/TEcigFK37N8dmNOAoYZ7jv451MDg5QpeHxuWYcBTuT2PTKgS0GJXnG7uGWSRsPVKfk77BeGAg7ktf0xHInBSt+zfHZjTgKGGe47+OdTA4OUKXh8bllHAU7k9j0yoEtBiV5xu7hlUkbD1Sn5O+wXxgIO5LX9MRyJwUrfs3x2Y04ChhnuO/jnUsODlCl4fG5ZRwFO5PY9MqBLQYlecbu4ZVJHA==');
      audio.volume = 0.3;
      audio.play().catch(() => {});
    }

    function vibrate() {
      if ('vibrate' in navigator) {
        navigator.vibrate(50);
      }
    }

    // ---------------- Popup Control ----------------
    function showPopup(id) {
      document.getElementById('overlay').style.display = 'block';
      document.getElementById(id).style.display = 'block';
    }
    function closeAllPopups() {
      document.querySelectorAll('.popup').forEach(p => p.style.display = 'none');
      document.getElementById('overlay').style.display = 'none';
      closeMobileCart();
    }

    // ---------------- Mobile Cart Functions ----------------
    function openMobileCart() {
      document.getElementById('mobileCartPopup').classList.add('show');
      document.getElementById('overlay').style.display = 'block';
    }

    function closeMobileCart() {
      document.getElementById('mobileCartPopup').classList.remove('show');
    }

    function updateCartBadge() {
      const totalItems = Object.values(order).reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cartBadge').textContent = totalItems;
    }

    // ---------------- ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î ----------------
    function promptDiscountAuth() { 
      closeMobileCart();
      showPopup('authPopup'); 
    }
    function submitPin() {
      const pin = document.getElementById('pinInput').value;
      if (pin === '000000') {
        closeAllPopups();
        showPopup('discountPopup');
        clearPin();
      } else {
        alert('‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
        clearPin();
      }
    }
    function applyDiscount(p) {
      discountPercent = p;
      closeAllPopups();
      updateSummary();
    }
    function removeDiscount() {
      discountPercent = 0;
      closeAllPopups();
      updateSummary();
    }

    // ---------------- Keypad ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PIN ----------------
    function appendPin(num) {
      const input = document.getElementById('pinInput');
      if (input.value.length < 6) input.value += num;
    }
    function clearPin() {
      document.getElementById('pinInput').value = '';
    }

    // ---------------- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ----------------
    function addToOrder(item) {
      playClick();
      vibrate();
      const n = item.name, p = Number(item.price);
      if (!order[n]) order[n] = { price: p, quantity: 1 };
      else order[n].quantity++;
      updateSummary();
    }
    function changeQty(n, c) {
      if (order[n]) {
        order[n].quantity += c;
        if (order[n].quantity <= 0) delete order[n];
        updateSummary();
      }
    }
    function removeItem(n) {
      delete order[n];
      updateSummary();
    }
    function updateSummary() {
      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô (Desktop ‡πÅ‡∏•‡∏∞ Mobile)
      updateDesktopSummary();
      updateMobileSummary();
      updateCartBadge();
    }

    function updateDesktopSummary() {
      const s = document.getElementById('orderSummary'),
        items = document.getElementById('orderItems'),
        t = document.getElementById('totalSummary');
      items.innerHTML = '';
      let subtotal = 0;
      for (const n in order) {
        const it = order[n];
        subtotal += it.price * it.quantity;
        items.innerHTML += `
          <div class='order-item'>
            <div>${n}</div>
            <div class='controls'>
              <button onclick="playClick(); vibrate(); changeQty('${n}',-1)">-</button>
              <span>${it.quantity}</span>
              <button onclick="playClick(); vibrate(); changeQty('${n}',1)">+</button>
              <button onclick="playClick(); vibrate(); removeItem('${n}')">üóëÔ∏è</button>
            </div>
          </div>`;
      }
      const discount = subtotal * (discountPercent / 100),
        vat = (subtotal - discount) * 0.07,
        net = subtotal - discount + vat;
      t.innerHTML = `
        ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ${subtotal.toFixed(2)} ‡∏ø<br>
        ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (${discountPercent}%): ${discount.toFixed(2)} ‡∏ø<br>
        VAT 7%: ${vat.toFixed(2)} ‡∏ø<br>
        <strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: ${net.toFixed(2)} ‡∏ø</strong>`;
      s.style.display = Object.keys(order).length ? 'block' : 'none';
    }

    function updateMobileSummary() {
      const items = document.getElementById('mobileOrderItems'),
        t = document.getElementById('mobileTotalSummary');
      items.innerHTML = '';
      let subtotal = 0;
      for (const n in order) {
        const it = order[n];
        subtotal += it.price * it.quantity;
        items.innerHTML += `
          <div class='order-item'>
            <div>${n}</div>
            <div class='controls'>
              <button onclick="playClick(); vibrate(); changeQty('${n}',-1)">-</button>
              <span>${it.quantity}</span>
              <button onclick="playClick(); vibrate(); changeQty('${n}',1)">+</button>
              <button onclick="playClick(); vibrate(); removeItem('${n}')">üóëÔ∏è</button>
            </div>
          </div>`;
      }
      const discount = subtotal * (discountPercent / 100),
        vat = (subtotal - discount) * 0.07,
        net = subtotal - discount + vat;
      t.innerHTML = `
        ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ${subtotal.toFixed(2)} ‡∏ø<br>
        ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (${discountPercent}%): ${discount.toFixed(2)} ‡∏ø<br>
        VAT 7%: ${vat.toFixed(2)} ‡∏ø<br>
        <strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: ${net.toFixed(2)} ‡∏ø</strong>`;
    }

    // ---------------- ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ----------------
    function submitOrder() {
      if (Object.keys(order).length === 0) {
        alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠');
        return;
      }
      closeMobileCart();
      showPopup('paymentPopup');
    }
    function cancelOrder() {
      if (confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠?')) {
        order = {};
        discountPercent = 0;
        updateSummary();
        closeMobileCart();
      }
    }

    function payCash() {
      closeAllPopups();
      const t = getTotal();
      document.getElementById('cashAmount').innerText = t.toFixed(2);
      showPopup('cashPopup');
      clearCash();
    }
    function payQR() {
      closeAllPopups();
      const t = getTotal();
      document.getElementById('qrAmount').innerText = t.toFixed(2);
      showPopup('qrPopup');
    }

    // ---------------- Keypad ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ----------------
    function appendCash(num) {
      const input = document.getElementById('cashInput');
      input.value += num;
    }
    function clearCash() {
      document.getElementById('cashInput').value = '';
      document.getElementById('changeDisplay').innerText = '';
    }

    function getTotal() {
      let subtotal = 0;
      for (const n in order) {
        subtotal += order[n].price * order[n].quantity;
      }
      return (subtotal - (subtotal * (discountPercent / 100))) * 1.07;
    }

    function confirmCash() {
      const paid = parseFloat(document.getElementById('cashInput').value);
      const total = getTotal();
      if (isNaN(paid) || paid < total) {
        alert('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠');
        return;
      }
      const change = paid - total;
      document.getElementById('changeDisplay').innerText = `‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô: ${change.toFixed(2)} ‡∏ø`;
      setTimeout(() => {
        closeAllPopups();
        showReceipt('‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î');
      }, 1500);
    }

    function confirmQR() {
      closeAllPopups();
      showReceipt('QR Code');
    }

    // ---------------- ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à ----------------
    function showReceipt(method) {
      const details = document.getElementById('receiptDetails');
      let subtotal = 0;
      let html = '<table class="receipt-table"><tr><th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th><th>‡∏£‡∏≤‡∏Ñ‡∏≤</th></tr>';
      for (const n in order) {
        const it = order[n];
        const total = it.price * it.quantity;
        subtotal += total;
        html += `<tr><td>${n}</td><td>${it.quantity}</td><td>${total.toFixed(2)}</td></tr>`;
      }
      const discount = subtotal * (discountPercent / 100);
      const vat = (subtotal - discount) * 0.07;
      const net = subtotal - discount + vat;
      html += `</table><hr>`;
      html += `<p>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ${subtotal.toFixed(2)} ‡∏ø</p>`;
      html += `<p>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (${discountPercent}%): ${discount.toFixed(2)} ‡∏ø</p>`;
      html += `<p>VAT 7%: ${vat.toFixed(2)} ‡∏ø</p>`;
      html += `<p><strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: ${net.toFixed(2)} ‡∏ø</strong></p>`;
      html += `<p>‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô: ${method}</p>`;
      html += `<p>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${new Date().toLocaleString('th-TH')}</p>`;
      details.innerHTML = html;
      showPopup('receiptPopup');
    }

    function closeReceipt() {
      closeAllPopups();
      order = {};
      discountPercent = 0;
      updateSummary();
    }

    // ---------------- Navigation ----------------
    function goHome() {
      window.location.href = 'index.html';
    }
    function goBack() {
      window.history.back();
    }

    // ---------------- ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏ô‡∏π ----------------
    window.onload = function() {
      const menuGrid = document.getElementById('menuGrid');
      const menuItems = [
        { name: '‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πä‡∏¢‡∏ß', price: 40 },
        { name: '‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡∏´‡∏°‡∏π‡πÅ‡∏î‡∏á', price: 40 },
        { name: '‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡∏ï‡πâ‡∏°‡∏¢‡∏≥', price: 45 },
        { name: '‡πÄ‡∏Å‡∏µ‡πä‡∏¢‡∏ß‡∏ô‡πâ‡∏≥', price: 35 },
        { name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏Ç‡∏≤‡∏´‡∏°‡∏π', price: 50 },
        { name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏°‡∏π‡πÅ‡∏î‡∏á', price: 45 },
        { name: '‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤', price: 10 },
        { name: '‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏î‡∏•‡∏°', price: 15 },
      ];

      menuGrid.innerHTML = '';
      menuItems.forEach(item => {
        const div = document.createElement('div');
        div.className = 'menu-item';
        div.onclick = () => addToOrder(item);
        div.innerHTML = `
          <div class="image-placeholder">üçú</div>
          <h4>${item.name}</h4>
          <p>${item.price} ‡∏ø</p>
        `;
        menuGrid.appendChild(div);
      });
    };

    // ‡∏õ‡∏¥‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏ï‡∏∞‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á
    document.getElementById('overlay').addEventListener('click', function() {
      closeMobileCart();
    });
  </script>

</body>
</html>